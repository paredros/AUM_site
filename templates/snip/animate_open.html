{% load staticfiles %}
{% if viewintroanim %}
    <div id="animation_container" style="background-color:rgba(255, 255, 255, 0.00); width:100%; height:900px;position: fixed;z-index: 10000000">
		<canvas id="canvas" width="100%" height="900" style="position: absolute; display: none; background-color:rgba(255, 255, 255, 0.00);z-index: 10000000"></canvas>
		<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:100%; height:900px; position: absolute; left: 0px; top: 0px; display: none;z-index: 10000000">
		</div>
	</div>

    <div id='_preload_div_' style='position:absolute; top:0; left:0; display: inline-block; height:900px; width: 1440px; text-align: center;'>
        <!--span style='display: inline-block; height: 100%; vertical-align: middle;'></span>
        <img src={% static '/preload/_preloader.gif' %} style='vertical-align: middle; max-height: 100%'/-->
        <div>
            <div class="loader" style="margin-top:50vh;margin-left: 50vw">
                <div class="square-spin">
                    <div></div>
                </div>
            </div>
        </div>

    </div>


<script>
    var ScrollOutEnable=false;
    function AnimateOpeningStart() {
        initAnim();
    }
    function PreOutAnimation() {
        $("#FullContent").css('visibility','visible');
        $("body").css('background-color','white');
        ScrollOutEnable=true;
        //$(".ShowAfterAnim").css('display','')
    }
    function ScrollOut(val) {
        if(ScrollOutEnable){
            var viewportHeight = $(window ).height()
            if(val>0){
                ScrollOutEnable=false
                $("#animation_container").animate({
                bottom:$("#animation_container").height(),

                }, {
                    complete: function() {
                      EndAnimation()
                    }
                  })
            }
        }
    }
    function EndAnimation() {
        $(".ShowAfterAnim").css('display','')
        $("#animation_container").css('display','none')
        $("body").css('background-color','white')
        setTimeout(enableScroll, 1000)
        //enableScroll()
    }
    /*function AnimateOpeningStartOld() {
        var viewportWidth = $("body").innerWidth();
        var viewportHeight = $("body").innerHeight();


    }*/
</script>
{% else %}
    <div id="_preload_div_" style="position:fixed;left:0;right:0;top:0;bottom:0;background-color: #ce1731">
        <div class="loader" style="margin-top:50vh;margin-left: 50vw;">
            <div class="square-spin">
                <div></div>
            </div>
        </div>
    </div>

    <script>
    function PreloadOut() {
        {% if isHome %}
            TweenMax.to("#_preload_div_",0.3,{'left':$(window ).width(),onComplete:function () {
                $("#_preload_div_").hide();
                ShowPage()

            }})
        {% else %}

            TweenMax.to("#_preload_div_",0.3,{'top':-$(window ).height(),'bottom':$(window ).height(),onComplete:function () {
                $("#_preload_div_").hide();
                ShowPage();
            }})
        {% endif %}
    }
    function ShowPage() {
        $("#FullContent").css('visibility','visible');
        $("body").css('background-color','white');
        {% if isHome %}
        StartHeroHomAnim();
            {% else %}
       $(".ShowAfterAnim").css('display','')
        $("#animation_container").css('display','none')
        $("body").css('background-color','white')
        setTimeout(enableScroll, 1000);
            {% endif %}
    }
    function EndAnimation() {
        $(".ShowAfterAnim").css('display','')
        $("#animation_container").css('display','none')
        $("body").css('background-color','white')
        setTimeout(enableScroll, 1000)
        HeroHomeStepAnim()
        //enableScroll()
    }
    </script>
{% endif %}